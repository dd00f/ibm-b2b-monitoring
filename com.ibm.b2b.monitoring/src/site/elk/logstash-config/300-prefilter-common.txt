
filter {

	if (![@metadata][local_timezone]) {
		mutate {
			add_field => { "[@metadata][local_timezone]" => "America/New_York" }
		}
	}
	
    metrics {
		meter => "total events"
		add_tag => "logstash-metric"
		flush_interval => 60
	}
	
	if ([host]) {
		grok {
			match => { "host" => "(?<shortHost>[^\.]{1,})\.{0,}.*" }
		}
	}
}
